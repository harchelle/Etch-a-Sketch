<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="main.css">
  </head>
  <body>
    <h2>Etch-a-Sketch</h2>
    <button id="create-new">Create New</button>
    <script>
      const body = document.querySelector("body");
      let container = document.createElement("div");
      container.classList.add("container");

      function createGrid(size, containerDiv){
        for (let i = 1; i <= size; i++){ 
          let row = document.createElement("div"); //creates a row.
          row.setAttribute("class","row");
          // to create 16 squares.
          for (let j = 1; j <= size; j++){
            let square = document.createElement("div"); 
            square.classList.add("square");
            square.style.width = 400/size - 2 + "px";
            square.style.height = 400/size - 2  + "px";
            square.addEventListener("mouseover",() => {
              square.classList.add("hover"); //permanently changes the background on mouse over.
            });

            row.appendChild(square);
          }
            // appending each row.
            containerDiv.appendChild(row);
        }
      }

      createGrid(16, container);
      body.appendChild(container);

      const createNew = document.querySelector("#create-new");
      createNew.addEventListener("click", () => {
        let gridSize = parseInt(prompt("Please enter the size for the grid"));
        
        body.removeChild(container);
        container = document.createElement("div");
        container.classList.add("container");
        createGrid(gridSize, container);
        body.appendChild(container);
      });
    </script>
  </body>
</html>